
Differences between the versions of the V6Z80P
----------------------------------------------

V6Z80P v1.1
-----------

This was the first released version.  The board is marked "V6Z80P rev1.1".
It has an 8-pin mini DIN socket for video and a 4-pin comms socket. There
are two LEDs (excluding the SD card LED) for system status.



V6Z80P+ V1.0
------------

This board was mainly an experiment with a programmable clock chip.
The chip turned out to be unsuitable but the boards were able to be
used in a fallback configuration (a different config file to the
original V6Z80P is required, however). These boards are marked
"V6Z80P+ Rev1.0"

There is a standard 15-pin VGA connector for video output and a 3 pin
mini-din serial comms socket. 

There is only one system status LED (excluding the SD card LED). 

The joystick ports supply 3.3v to pin 5 via 22ohm resistors (this should
make them Megadrive pad compatible).

There are now only 2 spare IO port header pins.

There are alternative (SMT) footprints for the onboard EEPROM.

The PCB mounting holes are in different locations.

Clock / FPGA pin changes:

CPU signal A14 is now routed through the FPGA (as well as A15) this
means 16KB paging can be performed on system memory if desired.

GCLK2 and GLCK3 are now routed to pin headers on the left hand side.
(The other unused GLCK is connected to a footprint for a programmable
clock chip. However, this turned out to be unsuitable so was omitted
from the circuit). 

There is now a line out from the FPGA (p75) to the input B of the 74HCT08
AND gate that controls the Z80 clock (the main oscillator drives input A).
Normally this should be pulled high by the FPGA.

The config PIC chip now uses a crystal for its oscillator (because it was
anticipated that the main system clock would be variable).  The pin connections
were also changed, so the .HEX file for this PIC is different to the original
V6Z80P.



V6Z80P+ v1.1
------------

Made in Jan 2011. This board better allows alternative clock inputs
and CPU clock control. The board is marked "V6Z80P+ Rev1.1"

There are two oscillator systems connected to GCLK0 (16MHz for OSCA)
and GCLK1 (14MHz for Spectrum Emulation) these are both based on a 74HC04
gate plus timing crystal. There is also a footprint for a 7x5mm SMT
3.3v oscillator module on the underside of the PCB for the GCLK3 input
(which also still goes to a header pin, as does GCLK2).

A phsysical switch* controls the CPU clock selection in the following way:

 In the up position, input A to the 74HCT08 AND gate (which outputs
 the level-shifted CPU clock signal) comes direct from the main 16MHz
 oscillator. In this case, AND input B (from pin 75 of the FPGA) should
 normally be pulled up. 

 In the down position, input A is pulled high by a resistor. In this state, 
 pin 75 from the FPGA needs to deliver the clock signal (the FPGA can loop
 through - and (if desired) gate - whichever GCLK signal is required for the
 project).

 (* The switch was included for 100% OSCA compatibility with the V6Z80P
 plus V1.0 config files (up position). However, it is more convenient to
 just leave the switch in the down position and use the V6Z80Plus V1.1 config
 files. (These are almost the same as the V6Z8op+ 1.0 configs: the only
 difference is that on the v6z80p+v1.1, the 16MHz system clock is looped
 through the FPGA and output to pin 75, whereas on the v6z8p+ v1.0 pin 75 is
 just pulled high)

The serial comms socket has reverted back to being a 4-pin mini DIN (same pin
out as original V6Z80p)

The through-hole EEPROM footprint and programmable clock chip footprint
have been removed.

The 3.3v regulator for the SD card now uses a SOT223 footprint instead
of SOIC-8

The PCB mounting holes are in different locations.


V6Z80P+ v1.1b
-------------

Made in March 2011 this board has the same main features as the +v1.1
(and uses the same config files). The following changes were made:

The board is marked "V6Z80P+ Rev1.1b"

The "OSC SEL" switch has been removed - the CPU clock is now always supplied
via the FPGA (electrically, it is the same as the V6Z80P+1.1 with the OSC SEL
switch down)

The SD card connector is an enclosed, push-push type and located in a slightly
different position. 

There are wider pads for the 8-pin EEPROM

