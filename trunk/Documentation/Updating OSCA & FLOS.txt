To update FLOS
--------------

Simply replace the .OSF file on the root directory of the SD card.
(You can also install FLOS on the onboard EEPROM using the FLOS
tool called EEPROM.EXE - The version of FLOS (or other OS) present
on the SD card is loaded in preference to that on the EEPROM.)


To Update OSCA
--------------

Use the FLOS-based EEPROM.EXE tool (See readme.txt in same folder for more
detailed info on the EEPROM layout etc)


1. Choose Option 1 "Write config to slot".

2. When asked which slot, choose a currently inactive slot (EG: Slot 2)

3. Browse to the config's .bin file (or choose "RS232" in the window to use
   the serial download option)

4. Wait for file to load, write to the EEPROM and complete verification.

5. Choose Option 2 - "Reconfigure from a slot now" (Non-permanent)

6. When prompted, choose to reconfigure from your chosen slot (EG: Slot 2)

7. The FPGA restarts with the latest update. This selection persists until
   power off.

   If everything is OK, you can reload the EEPROM tool and choose option 3
   to make the new Slot (EG: 2) the Active Slot. Of course, the next time you
   update OSCA, it'd be best to choose one of the other slots. 

   If you want, you can just rewrite the currently active slot in the first place,
   but the method above allows you to test the new config BEFORE making it default.
   IE: If you overwrite the current Active Slot with a bad config, the FPGA will
   not start at power on and you'll be forced to use one of the emergency options
   to fix it.


  Emergency recovery options:
  ---------------------------
 
  There are 3 different ways to overcome a bad configuration selection
  (IE: when the system does not boot.)


 1. With the newer PIC firmware versions, it is possible to change the Active
    Slot manually - of course, for this to be useful you must actually have a
    working configuration file in one of the slots.
      
    Manual Slot Selection:
    ----------------------

      * Power off the V6Z80P.
      * Install jumper J2 only
      * Power on (yellow led flashes rapidly). 
      * Remove jumper J2 again
      * The PIC will reset the active slot to 1 (indicated by 1 pulse of the red LED)
        The yellow led lights up for 4 seconds
        Afterwards, Slot 2 is set (2 flashes of red LED)
        Again there's a 4 second pause, finally slot 3 is set (3 flashes).
      * Power off as soon as the yellow LED comes on following the desired slot setting.
      * When you next power on, the new active slot will be utilized.
 
   
 2. Remove and reprogram the EEPROM or config PIC externally. (Note: The
    PIC holds the slot selection so reprogramming it will reset the Active
    Slot to Slot 1). If you reprogram the EEPROM, you'll need to
    preserve $0-$1FFFF as this holds the bootcode (and OS, but that can be
    reinstalled later). It is probably best to erase the entire EEPROM and
    reprogram it with the default binary supplied in the development files folder.
  
 
 3. Use a JTAG cable to download OSCA: Install J1 and J2 and send the OSCA config from
    the Xilinx webpack software. As long as the bootcode is intact in the EEPROM,
    the system will start and you can then download FLOS and use the EEPROM.EXE
    program.

