
Differences between the versions of the V6Z80P
----------------------------------------------

V6Z80P v1.1
-----------

This was the first released version.  The board is marked "V6Z80P rev1.1".
It has an 8-pin mini DIN socket for video and a 4-pin comms socket. There
are two LEDs (excluding the SD card LED) for system status.



V6Z80P+ V1.0
------------

This board has a standard 15pin VGA connector for video output and a 3 pin
mini-din comms socket. There is only one system status LED (excluding the
SD card LED).  The board is marked "V6Z80P+ Rev1.0"

FPGA pin changes:

CPU signal A14 is now routed through the FPGA (as well as A15) this
means 16KB paging can be performed on system memory if desired.

GCLK2 and GLCK3 are now routed to pin headers on the left hand side.
(The other unused GLCK is connected to a footprint for a programmable
clock chip. However, this turned out to be unsuitable so was omitted
from the circuit). 

There is now a line out from the FPGA (p75) to the input B of the 74HCT08
AND gate that controls the Z80 clock (the main oscillator drives input A).
Normally this should be pulled high by the FPGA.

There are now only 2 spare IO port header pins.

There are alternative (SMT) footprints for the onboard EEPROM.

As the pin connections to the FPGA were changed, a different config
file must be used for this board (which handles the different pin-outs,
CPU A14, etc)

The config PIC chip now uses a crystal for its oscillator (it was
anticipated that the main system clock would be variable, but see above.)
The pin connections were also changed, so the .HEX file for this PIC
is also different to the original V6Z80P.

The PCB mounting holes are in different locations.

The joystick ports supply 3.3v to pin 5 via 22ohm resistors (this should
make them Megadrive pad compatible).


V6Z80P+ v1.1
------------

Made after Jan 2011. This board better allows alternative clock inputs
and CPU clock control.

The board is marked "V6Z80P+ Rev1.1"

There are two oscillator systems connected to GCLK0 (main clock 16MHz) 
and GCLK1 (alternate, custom frequency)  these are both based on a 74HC04
gate plus timing crystal. There is also a footprint for a 7x5mm SMT
3.3v oscillator module on the underside of the PCB for the GCLK3 input
(which also still goes to a header pin, as does GCLK2).

A physical switch* controls the CPU clock selection in the following way:
In the up position, input A to the 74HCT08 AND gate (which outputs the
level-shifted CPU clock signal) comes direct from the main 16MHz oscillator.
In this case, AND input B (from pin 75 of the FPGA) should normally be pulled up. 

In the down position, input A is pulled high by a resistor. In this state, 
pin 75 from the FPGA needs to deliver the clock signal (the FPGA can loop
through - and if desired, gate - whichever GCLK signal is required for the
project).

(* The switch was included for 100% OSCA compatibility using the
V6Z80P plus v1.0 config files (up position). However, if alternative
CPU clocks are being used, it is more convenient to just leave the
switch in the down position and use the special V6Z80Plus V1.1
OSCA config files - this config is the same as the V6Z80p+ 1.0 
except it loops the 16MHz system clock through the FPGA to pin75.)

The Comms socket has reverted back to being a 4-pin mini DIN (same pin
out as original V6Z80p)

The through-hole EEPROM footprint has been removed. The programmable
clock chip footprint has also been removed.

The 3.3v regulator for the SD card now uses a SOT223 footprint
instead of SOIC-8

The PCB mounting holes are in different locations.


V6Z80P+ v1.1b
-------------

SD card connector type changed to push-push type (difficulty in sourcing original).

Removed "OSC SEL" switch (CPU clock is now always sourced from FPGA)

Wider pads to accomdate SOIC-W 8-pin style EEPROM (PIC code now supports SST25VF chips also).

